(()=>{"use strict";var __webpack_require__={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(n,{a:n}),n},d:(e,n)=>{for(var t in n)__webpack_require__.o(n,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};eval('\n// CONCATENATED MODULE: external "http"\nconst external_http_namespaceObject = require("http");;\nvar external_http_default = /*#__PURE__*/__webpack_require__.n(external_http_namespaceObject);\n// CONCATENATED MODULE: external "express"\nconst external_express_namespaceObject = require("express");;\nvar external_express_default = /*#__PURE__*/__webpack_require__.n(external_express_namespaceObject);\n// CONCATENATED MODULE: external "cookie-parser"\nconst external_cookie_parser_namespaceObject = require("cookie-parser");;\nvar external_cookie_parser_default = /*#__PURE__*/__webpack_require__.n(external_cookie_parser_namespaceObject);\n// CONCATENATED MODULE: external "core-js/modules/es.array.concat"\nconst es_array_concat_namespaceObject = require("core-js/modules/es.array.concat");;\n// CONCATENATED MODULE: external "core-js/modules/es.array.find"\nconst es_array_find_namespaceObject = require("core-js/modules/es.array.find");;\n// CONCATENATED MODULE: external "core-js/modules/es.object.to-string"\nconst es_object_to_string_namespaceObject = require("core-js/modules/es.object.to-string");;\n// CONCATENATED MODULE: external "core-js/modules/es.promise"\nconst es_promise_namespaceObject = require("core-js/modules/es.promise");;\n// CONCATENATED MODULE: external "regenerator-runtime/runtime"\nconst runtime_namespaceObject = require("regenerator-runtime/runtime");;\n// CONCATENATED MODULE: external "core-js/modules/es.date.now"\nconst es_date_now_namespaceObject = require("core-js/modules/es.date.now");;\n// CONCATENATED MODULE: external "core-js/modules/es.date.to-string"\nconst es_date_to_string_namespaceObject = require("core-js/modules/es.date.to-string");;\n// CONCATENATED MODULE: external "core-js/modules/es.function.bind"\nconst es_function_bind_namespaceObject = require("core-js/modules/es.function.bind");;\n// CONCATENATED MODULE: external "core-js/modules/es.number.constructor"\nconst es_number_constructor_namespaceObject = require("core-js/modules/es.number.constructor");;\n// CONCATENATED MODULE: external "mongoose"\nconst external_mongoose_namespaceObject = require("mongoose");;\nvar external_mongoose_default = /*#__PURE__*/__webpack_require__.n(external_mongoose_namespaceObject);\n// CONCATENATED MODULE: ./src/models.js\n;\n\n\n\n\nexternal_mongoose_default().connect("mongodb://localhost:27017/lr5", {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useCreateIndex: true\n});\nexternal_mongoose_default().connection.on(\'error\', console.error.bind(console, \'connection error:\'));\nvar memberSchema = new (external_mongoose_default()).Schema({\n  name: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  money: {\n    type: Number,\n    required: true,\n    "default": 0,\n    min: 0\n  }\n});\nvar shareSchema = new (external_mongoose_default()).Schema({\n  name: {\n    type: String,\n    required: true,\n    "default": "Unknown"\n  },\n  distribution: {\n    type: String,\n    required: true\n  },\n  dispersion: {\n    type: Number,\n    required: true,\n    min: 0\n  },\n  price: {\n    type: Number,\n    required: true,\n    min: 0\n  },\n  count: {\n    type: Number,\n    required: true,\n    min: 0\n  }\n});\nvar marketSchema = new (external_mongoose_default()).Schema({\n  start: {\n    type: Date,\n    required: true,\n    "default": new Date(Date.now())\n  },\n  end: {\n    type: Date,\n    required: true,\n    "default": new Date(Date.now())\n  },\n  recomputeDuration: {\n    type: Number,\n    required: true,\n    min: 1,\n    "default": 60\n  }\n});\nvar MemberModel = external_mongoose_default().model(\'member\', memberSchema);\nvar ShareModel = external_mongoose_default().model(\'share\', shareSchema);\nvar MarketModel = external_mongoose_default().model(\'market\', marketSchema);\n/* harmony default export */ const models = ({\n  Member: MemberModel,\n  Share: ShareModel,\n  Market: MarketModel\n});\n\n// CONCATENATED MODULE: ./src/routes/member-router.js\n;\n\n\n\n\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\n\n\nvar router = external_express_default().Router();\nrouter.get(\'/member/all\', /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res) {\n    var members;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return MemberModel.find();\n\n          case 2:\n            members = _context.sent;\n            res.send(members);\n            console.log("GET ".concat(req.url, ": send ").concat(JSON.stringify(members)));\n\n          case 5:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\nrouter.get(\'/member/:memberId\', /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req, res) {\n    var member;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return MemberModel.findOne({\n              _id: req.params.memberId\n            });\n\n          case 2:\n            member = _context2.sent;\n\n            if (member) {\n              _context2.next = 7;\n              break;\n            }\n\n            res.sendStatus(404);\n            _context2.next = 12;\n            break;\n\n          case 7:\n            _context2.t0 = res;\n            _context2.next = 10;\n            return MemberModel.find();\n\n          case 10:\n            _context2.t1 = _context2.sent;\n\n            _context2.t0.send.call(_context2.t0, _context2.t1);\n\n          case 12:\n            console.log("GET ".concat(req.url, ": send members"));\n\n          case 13:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nrouter.put(\'/member\', /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(req, res) {\n    var member;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            member = new MemberModel(req.body);\n            member._id = undefined;\n            member.save( /*#__PURE__*/function () {\n              var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(error) {\n                return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                  while (1) {\n                    switch (_context3.prev = _context3.next) {\n                      case 0:\n                        if (!error) {\n                          _context3.next = 6;\n                          break;\n                        }\n\n                        res.status(400);\n                        res.send(error);\n                        console.log("PUT ".concat(req.url, ": error ").concat(error, "; receive ").concat(req.body, ", send 400"));\n                        _context3.next = 12;\n                        break;\n\n                      case 6:\n                        _context3.t0 = res;\n                        _context3.next = 9;\n                        return MemberModel.find();\n\n                      case 9:\n                        _context3.t1 = _context3.sent;\n\n                        _context3.t0.send.call(_context3.t0, _context3.t1);\n\n                        console.log("PUT ".concat(req.url, ": receive ").concat(req.body, ", send members"));\n\n                      case 12:\n                      case "end":\n                        return _context3.stop();\n                    }\n                  }\n                }, _callee3);\n              }));\n\n              return function (_x7) {\n                return _ref4.apply(this, arguments);\n              };\n            }());\n\n          case 3:\n          case "end":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\nrouter.put(\'/member/:memberId\', /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(req, res) {\n    var member, error;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            member = new MemberModel(req.body);\n            member._id = req.params.memberId;\n            _context5.prev = 2;\n            _context5.next = 5;\n            return member.validate();\n\n          case 5:\n            _context5.next = 7;\n            return MemberModel.updateOne({\n              _id: member._id\n            }, member);\n\n          case 7:\n            _context5.next = 12;\n            break;\n\n          case 9:\n            _context5.prev = 9;\n            _context5.t0 = _context5["catch"](2);\n            error = _context5.t0;\n\n          case 12:\n            if (!error) {\n              _context5.next = 18;\n              break;\n            }\n\n            res.status(400);\n            res.send(error);\n            console.log("PUT ".concat(req.url, ": ").concat(error));\n            _context5.next = 24;\n            break;\n\n          case 18:\n            _context5.t1 = res;\n            _context5.next = 21;\n            return MemberModel.find();\n\n          case 21:\n            _context5.t2 = _context5.sent;\n\n            _context5.t1.send.call(_context5.t1, _context5.t2);\n\n            console.log("PUT ".concat(req.url, ": send members"));\n\n          case 24:\n          case "end":\n            return _context5.stop();\n        }\n      }\n    }, _callee5, null, [[2, 9]]);\n  }));\n\n  return function (_x8, _x9) {\n    return _ref5.apply(this, arguments);\n  };\n}());\nrouter["delete"](\'/member/:memberId\', /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(req, res) {\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            console.log("DELETE ".concat(req.url));\n            MemberModel.deleteOne({\n              _id: req.params.memberId\n            }, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n              return regeneratorRuntime.wrap(function _callee6$(_context6) {\n                while (1) {\n                  switch (_context6.prev = _context6.next) {\n                    case 0:\n                      _context6.t0 = res;\n                      _context6.next = 3;\n                      return MemberModel.find();\n\n                    case 3:\n                      _context6.t1 = _context6.sent;\n\n                      _context6.t0.send.call(_context6.t0, _context6.t1);\n\n                    case 5:\n                    case "end":\n                      return _context6.stop();\n                  }\n                }\n              }, _callee6);\n            })));\n\n          case 2:\n          case "end":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n\n  return function (_x10, _x11) {\n    return _ref6.apply(this, arguments);\n  };\n}());\n/* harmony default export */ const member_router = (router);\n// CONCATENATED MODULE: ./src/routes/share-router.js\n;\n\n\n\n\n\nfunction share_router_asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction share_router_asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { share_router_asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { share_router_asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\n\n\nvar share_router_router = external_express_default().Router();\nshare_router_router.get(\'/share/all\', /*#__PURE__*/function () {\n  var _ref = share_router_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res) {\n    var shares;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return ShareModel.find();\n\n          case 2:\n            shares = _context.sent;\n            res.send(shares);\n            console.log("GET ".concat(req.url, ": ").concat(JSON.stringify(shares)));\n\n          case 5:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\nshare_router_router.put(\'/share\', /*#__PURE__*/function () {\n  var _ref2 = share_router_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(req, res) {\n    var share;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            share = new ShareModel(req.body);\n            share._id = undefined;\n            share.save( /*#__PURE__*/function () {\n              var _ref3 = share_router_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(error) {\n                return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        if (!error) {\n                          _context2.next = 6;\n                          break;\n                        }\n\n                        res.status(400);\n                        res.send(error);\n                        console.log("PUT ".concat(req.url, ": ").concat(error));\n                        _context2.next = 12;\n                        break;\n\n                      case 6:\n                        console.log("PUT ".concat(req.url, ": ").concat(JSON.stringify(share), " success"));\n                        _context2.t0 = res;\n                        _context2.next = 10;\n                        return ShareModel.find();\n\n                      case 10:\n                        _context2.t1 = _context2.sent;\n\n                        _context2.t0.send.call(_context2.t0, _context2.t1);\n\n                      case 12:\n                      case "end":\n                        return _context2.stop();\n                    }\n                  }\n                }, _callee2);\n              }));\n\n              return function (_x5) {\n                return _ref3.apply(this, arguments);\n              };\n            }());\n\n          case 3:\n          case "end":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nshare_router_router.put(\'/share/:shareId\', /*#__PURE__*/function () {\n  var _ref4 = share_router_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(req, res) {\n    var share, error;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            share = new ShareModel(req.body);\n            share._id = req.params.shareId;\n            _context4.prev = 2;\n            _context4.next = 5;\n            return share.validate();\n\n          case 5:\n            _context4.next = 7;\n            return ShareModel.updateOne({\n              _id: share._id\n            }, share);\n\n          case 7:\n            _context4.next = 12;\n            break;\n\n          case 9:\n            _context4.prev = 9;\n            _context4.t0 = _context4["catch"](2);\n            error = _context4.t0;\n\n          case 12:\n            if (!error) {\n              _context4.next = 18;\n              break;\n            }\n\n            res.status(400);\n            res.send(error);\n            console.log("PUT ".concat(req.url, ": ").concat(error));\n            _context4.next = 24;\n            break;\n\n          case 18:\n            _context4.t1 = res;\n            _context4.next = 21;\n            return ShareModel.find();\n\n          case 21:\n            _context4.t2 = _context4.sent;\n\n            _context4.t1.send.call(_context4.t1, _context4.t2);\n\n            console.log("PUT ".concat(req.url, ": ").concat(JSON.stringify(share)));\n\n          case 24:\n          case "end":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, null, [[2, 9]]);\n  }));\n\n  return function (_x6, _x7) {\n    return _ref4.apply(this, arguments);\n  };\n}());\nshare_router_router["delete"](\'/share/:shareId\', /*#__PURE__*/function () {\n  var _ref5 = share_router_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(req, res) {\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.prev = 0;\n            _context5.next = 3;\n            return ShareModel.deleteOne({\n              _id: req.params.shareId\n            });\n\n          case 3:\n            _context5.next = 8;\n            break;\n\n          case 5:\n            _context5.prev = 5;\n            _context5.t0 = _context5["catch"](0);\n            console.log("DELETE ".concat(req.url, ": error ").concat(_context5.t0));\n\n          case 8:\n            _context5.t1 = res;\n            _context5.next = 11;\n            return ShareModel.find();\n\n          case 11:\n            _context5.t2 = _context5.sent;\n\n            _context5.t1.send.call(_context5.t1, _context5.t2);\n\n          case 13:\n          case "end":\n            return _context5.stop();\n        }\n      }\n    }, _callee5, null, [[0, 5]]);\n  }));\n\n  return function (_x8, _x9) {\n    return _ref5.apply(this, arguments);\n  };\n}());\n/* harmony default export */ const share_router = (share_router_router);\n// CONCATENATED MODULE: ./src/routes/market-router.js\n;\n\n\n\n\nfunction market_router_asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction market_router_asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { market_router_asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { market_router_asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\n\n\n\nfunction instantiateMarketIfNeed() {\n  return _instantiateMarketIfNeed.apply(this, arguments);\n}\n\nfunction _instantiateMarketIfNeed() {\n  _instantiateMarketIfNeed = market_router_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n    var market, error;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return MarketModel.findOne();\n\n          case 2:\n            market = _context3.sent;\n\n            if (!market) {\n              _context3.next = 5;\n              break;\n            }\n\n            return _context3.abrupt("return", market);\n\n          case 5:\n            market = new MarketModel();\n            _context3.next = 8;\n            return market.save();\n\n          case 8:\n            error = _context3.sent;\n\n            if (!error) {\n              _context3.next = 13;\n              break;\n            }\n\n            console.error("cannot initialize Market with ".concat(error));\n            process.exit(1);\n            return _context3.abrupt("return", null);\n\n          case 13:\n            return _context3.abrupt("return", market);\n\n          case 14:\n          case "end":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _instantiateMarketIfNeed.apply(this, arguments);\n}\n\nvar market_router_router = new (external_express_default()).Router();\nmarket_router_router.get(\'/market\', /*#__PURE__*/function () {\n  var _ref = market_router_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res) {\n    var market;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return instantiateMarketIfNeed();\n\n          case 2:\n            market = _context.sent;\n            res.send(market);\n            console.log("GET ".concat(req.url, ": ").concat(market));\n\n          case 5:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\nmarket_router_router.put(\'/market\', /*#__PURE__*/function () {\n  var _ref2 = market_router_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req, res) {\n    var currentMarket, market, error;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return instantiateMarketIfNeed();\n\n          case 2:\n            currentMarket = _context2.sent;\n            market = new MarketModel(req.body);\n            market._id = currentMarket._id;\n            _context2.prev = 5;\n            _context2.next = 8;\n            return market.validate();\n\n          case 8:\n            _context2.next = 10;\n            return MarketModel.updateOne({}, market);\n\n          case 10:\n            _context2.next = 15;\n            break;\n\n          case 12:\n            _context2.prev = 12;\n            _context2.t0 = _context2["catch"](5);\n            error = _context2.t0;\n\n          case 15:\n            if (error) {\n              res.status(400);\n              res.send(error);\n              console.log("PUT ".concat(req.url, ": ").concat(error));\n            } else {\n              res.send(market);\n              console.log("PUT ".concat(req.url, ": ").concat(market));\n            }\n\n          case 16:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[5, 12]]);\n  }));\n\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n/* harmony default export */ const market_router = (market_router_router);\n// CONCATENATED MODULE: ./src/routes/app-router.js\n;\n\n\n\nvar app_router_router = external_express_default().Router();\napp_router_router.use(member_router);\napp_router_router.use(share_router);\napp_router_router.use(market_router);\n/* harmony default export */ const app_router = (app_router_router);\n// CONCATENATED MODULE: external "cors"\nconst external_cors_namespaceObject = require("cors");;\nvar external_cors_default = /*#__PURE__*/__webpack_require__.n(external_cors_namespaceObject);\n// CONCATENATED MODULE: ./src/app.js\n;\n\n\n\nvar app = external_express_default()();\napp.use(external_cors_default()());\napp.use(external_express_default().json());\napp.use(external_express_default().urlencoded({\n  extended: false\n}));\napp.use(external_cookie_parser_default()());\napp.use(app_router);\n/* harmony default export */ const src_app = (app);\n// CONCATENATED MODULE: external "socket.io"\nconst external_socket_io_namespaceObject = require("socket.io");;\nvar external_socket_io_default = /*#__PURE__*/__webpack_require__.n(external_socket_io_namespaceObject);\n// CONCATENATED MODULE: external "core-js/modules/es.object.define-property"\nconst es_object_define_property_namespaceObject = require("core-js/modules/es.object.define-property");;\n// CONCATENATED MODULE: external "core-js/modules/es.symbol"\nconst es_symbol_namespaceObject = require("core-js/modules/es.symbol");;\n// CONCATENATED MODULE: external "core-js/modules/es.symbol.description"\nconst es_symbol_description_namespaceObject = require("core-js/modules/es.symbol.description");;\n// CONCATENATED MODULE: external "core-js/modules/es.symbol.iterator"\nconst es_symbol_iterator_namespaceObject = require("core-js/modules/es.symbol.iterator");;\n// CONCATENATED MODULE: external "core-js/modules/es.array.for-each"\nconst es_array_for_each_namespaceObject = require("core-js/modules/es.array.for-each");;\n// CONCATENATED MODULE: external "core-js/modules/es.array.index-of"\nconst es_array_index_of_namespaceObject = require("core-js/modules/es.array.index-of");;\n// CONCATENATED MODULE: external "core-js/modules/es.array.iterator"\nconst es_array_iterator_namespaceObject = require("core-js/modules/es.array.iterator");;\n// CONCATENATED MODULE: external "core-js/modules/es.array.map"\nconst es_array_map_namespaceObject = require("core-js/modules/es.array.map");;\n// CONCATENATED MODULE: external "core-js/modules/es.array.reduce"\nconst es_array_reduce_namespaceObject = require("core-js/modules/es.array.reduce");;\n// CONCATENATED MODULE: external "core-js/modules/es.array.splice"\nconst es_array_splice_namespaceObject = require("core-js/modules/es.array.splice");;\n// CONCATENATED MODULE: external "core-js/modules/es.function.name"\nconst es_function_name_namespaceObject = require("core-js/modules/es.function.name");;\n// CONCATENATED MODULE: external "core-js/modules/es.object.create"\nconst es_object_create_namespaceObject = require("core-js/modules/es.object.create");;\n// CONCATENATED MODULE: external "core-js/modules/es.object.get-prototype-of"\nconst es_object_get_prototype_of_namespaceObject = require("core-js/modules/es.object.get-prototype-of");;\n// CONCATENATED MODULE: external "core-js/modules/es.object.set-prototype-of"\nconst es_object_set_prototype_of_namespaceObject = require("core-js/modules/es.object.set-prototype-of");;\n// CONCATENATED MODULE: external "core-js/modules/es.reflect.construct"\nconst es_reflect_construct_namespaceObject = require("core-js/modules/es.reflect.construct");;\n// CONCATENATED MODULE: external "core-js/modules/es.regexp.to-string"\nconst es_regexp_to_string_namespaceObject = require("core-js/modules/es.regexp.to-string");;\n// CONCATENATED MODULE: external "core-js/modules/es.string.iterator"\nconst es_string_iterator_namespaceObject = require("core-js/modules/es.string.iterator");;\n// CONCATENATED MODULE: external "core-js/modules/web.dom-collections.for-each"\nconst web_dom_collections_for_each_namespaceObject = require("core-js/modules/web.dom-collections.for-each");;\n// CONCATENATED MODULE: external "core-js/modules/web.dom-collections.iterator"\nconst web_dom_collections_iterator_namespaceObject = require("core-js/modules/web.dom-collections.iterator");;\n// CONCATENATED MODULE: external "core-js/modules/web.timers"\nconst web_timers_namespaceObject = require("core-js/modules/web.timers");;\n// CONCATENATED MODULE: external "events"\nconst external_events_namespaceObject = require("events");;\nvar external_events_default = /*#__PURE__*/__webpack_require__.n(external_events_namespaceObject);\n// CONCATENATED MODULE: ./src/core/Events.js\n/* harmony default export */ const Events = ({\n  OutMarket: \'Market\',\n  OutShares: \'Shares\',\n  OutMembers: \'Members\',\n  OutError: \'Error\',\n  InBuyShares: \'BuyShares\',\n  InRefreshMarket: \'RefreshMarket\',\n  Changed: \'Changed\',\n  Ready: \'Ready\'\n});\n// CONCATENATED MODULE: external "random"\nconst external_random_namespaceObject = require("random");;\nvar external_random_default = /*#__PURE__*/__webpack_require__.n(external_random_namespaceObject);\n// CONCATENATED MODULE: ./src/core/Distribution.js\n/* harmony default export */ const Distribution = ({\n  Unit: \'even\',\n  Normal: \'normal\',\n  Binomial: \'binomial\'\n});\n// CONCATENATED MODULE: ./src/core/SharesHandler.js\n;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction SharesHandler_asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction SharesHandler_asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { SharesHandler_asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { SharesHandler_asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\nvar ShareOwner = /*#__PURE__*/function () {\n  function ShareOwner(from) {\n    _classCallCheck(this, ShareOwner);\n\n    _defineProperty(this, "_id", void 0);\n\n    _defineProperty(this, "sharesCount", 0);\n\n    if (!from) return;\n    this.update(from);\n  }\n\n  _createClass(ShareOwner, [{\n    key: "update",\n    value: function update(from) {\n      this._id = from._id.toString();\n      if (from.sharesCount !== undefined) this.sharesCount = from.sharesCount;\n    }\n  }]);\n\n  return ShareOwner;\n}();\nvar Share = /*#__PURE__*/function (_Emitter) {\n  _inherits(Share, _Emitter);\n\n  var _super = _createSuper(Share);\n\n  function Share(from) {\n    var _this;\n\n    _classCallCheck(this, Share);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), "_id", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), "name", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), "distribution", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), "dispersion", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), "price", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), "count", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), "owners", void 0);\n\n    if (!from) return _possibleConstructorReturn(_this);\n\n    _this.update(from);\n\n    return _this;\n  }\n\n  _createClass(Share, [{\n    key: "update",\n    value: function update(from) {\n      var _from$_id;\n\n      this._id = (_from$_id = from._id) === null || _from$_id === void 0 ? void 0 : _from$_id.toString();\n      this.name = from.name;\n      this.distribution = from.distribution;\n      this.dispersion = from.dispersion;\n      this.price = from.price;\n      this.count = from.count;\n      this.owners = from.owners ? from.owners : [];\n      this.emit(Events.Changed);\n    }\n  }, {\n    key: "updateOwner",\n    value: function updateOwner(owner) {\n      var current = this.owners.find(function (current) {\n        return current._id === owner._id;\n      });\n\n      if (owner.sharesCount === 0) {\n        var index = this.owners.indexOf(current);\n\n        if (index >= 0) {\n          this.owners.splice(index, 1);\n          this.emit(Events.Changed);\n        }\n\n        return;\n      }\n\n      if (current) current.update(owner);else this.owners.push(owner);\n      this.emit(Events.Changed);\n    }\n  }, {\n    key: "recomputePrice",\n    value: function recomputePrice() {\n      if (this.distribution === Distribution.Unit) {\n        this.price += external_random_default().float(-this.dispersion, this.dispersion);\n      } else if (this.distribution = Distribution.Binomial) {\n        var n = Math.max(1000, this.dispersion);\n        this.price += (external_random_default().binomial(n)() - n / 2) / n * this.dispersion * 2;\n      } else {\n        this.price += external_random_default().normal()() * this.dispersion / 3;\n      }\n\n      this.price = Math.round(this.price);\n    }\n  }, {\n    key: "availableCount",\n    get: function get() {\n      return this.count - this.owners.reduce(function (totalCount, owner) {\n        return totalCount + owner.sharesCount;\n      }, 0);\n    }\n  }]);\n\n  return Share;\n}((external_events_default()));\nvar SharesHandler = /*#__PURE__*/function (_Emitter2) {\n  _inherits(SharesHandler, _Emitter2);\n\n  var _super2 = _createSuper(SharesHandler);\n\n  function SharesHandler() {\n    var _this2;\n\n    _classCallCheck(this, SharesHandler);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this2 = _super2.call.apply(_super2, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this2), "shares", void 0);\n\n    _defineProperty(_assertThisInitialized(_this2), "_recomputeIntervalId", void 0);\n\n    return _this2;\n  }\n\n  _createClass(SharesHandler, [{\n    key: "init",\n    value: function () {\n      var _init = SharesHandler_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _this3 = this;\n\n        var market, rawShares;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return models.Market.findOne();\n\n              case 3:\n                market = _context.sent;\n                _context.next = 6;\n                return models.Share.find();\n\n              case 6:\n                rawShares = _context.sent;\n                this.shares = rawShares.map(function (rawShare) {\n                  var share = new Share(rawShare);\n                  share.on(Events.Changed, function () {\n                    _this3.emit(Events.Changed);\n                  });\n                  return share;\n                });\n                this._recomputeIntervalId = setInterval(function () {\n                  _this3.shares.forEach(function (share) {\n                    share.recomputePrice();\n                  });\n\n                  _this3.emit(Events.Changed);\n                }, market.recomputeDuration * 1000);\n                return _context.abrupt("return", true);\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context["catch"](0);\n                return _context.abrupt("return", false);\n\n              case 15:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 12]]);\n      }));\n\n      function init() {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n  }, {\n    key: "dispose",\n    value: function dispose() {\n      if (this._recomputeIntervalId != null) {\n        clearInterval(this._recomputeIntervalId);\n        this._recomputeIntervalId = null;\n      }\n\n      if (this.shares != null) this.shares.forEach(function (share) {\n        return share.removeAllListeners();\n      });\n      this.removeAllListeners();\n    }\n  }, {\n    key: "toEvent",\n    value: function toEvent() {\n      return this.shares;\n    }\n  }]);\n\n  return SharesHandler;\n}((external_events_default()));\n// CONCATENATED MODULE: ./src/core/MembersHandler.js\n;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction MembersHandler_typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { MembersHandler_typeof = function _typeof(obj) { return typeof obj; }; } else { MembersHandler_typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return MembersHandler_typeof(obj); }\n\nfunction MembersHandler_asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction MembersHandler_asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { MembersHandler_asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { MembersHandler_asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nfunction MembersHandler_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) MembersHandler_setPrototypeOf(subClass, superClass); }\n\nfunction MembersHandler_setPrototypeOf(o, p) { MembersHandler_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return MembersHandler_setPrototypeOf(o, p); }\n\nfunction MembersHandler_createSuper(Derived) { var hasNativeReflectConstruct = MembersHandler_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = MembersHandler_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = MembersHandler_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return MembersHandler_possibleConstructorReturn(this, result); }; }\n\nfunction MembersHandler_possibleConstructorReturn(self, call) { if (call && (MembersHandler_typeof(call) === "object" || typeof call === "function")) { return call; } return MembersHandler_assertThisInitialized(self); }\n\nfunction MembersHandler_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction MembersHandler_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction MembersHandler_getPrototypeOf(o) { MembersHandler_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return MembersHandler_getPrototypeOf(o); }\n\nfunction MembersHandler_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction MembersHandler_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction MembersHandler_createClass(Constructor, protoProps, staticProps) { if (protoProps) MembersHandler_defineProperties(Constructor.prototype, protoProps); if (staticProps) MembersHandler_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction MembersHandler_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nvar Member = /*#__PURE__*/function () {\n  function Member(from) {\n    MembersHandler_classCallCheck(this, Member);\n\n    MembersHandler_defineProperty(this, "_id", void 0);\n\n    MembersHandler_defineProperty(this, "name", void 0);\n\n    MembersHandler_defineProperty(this, "money", void 0);\n\n    if (!from) return;\n    this.update(from);\n  }\n\n  MembersHandler_createClass(Member, [{\n    key: "update",\n    value: function update(from) {\n      this._id = from._id.toString();\n      this.name = from.name;\n      this.money = from.money;\n    }\n  }]);\n\n  return Member;\n}();\nvar MembersHandler = /*#__PURE__*/function (_Emitter) {\n  MembersHandler_inherits(MembersHandler, _Emitter);\n\n  var _super = MembersHandler_createSuper(MembersHandler);\n\n  function MembersHandler() {\n    var _this;\n\n    MembersHandler_classCallCheck(this, MembersHandler);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    MembersHandler_defineProperty(MembersHandler_assertThisInitialized(_this), "members", void 0);\n\n    return _this;\n  }\n\n  MembersHandler_createClass(MembersHandler, [{\n    key: "init",\n    value: function () {\n      var _init = MembersHandler_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var rawMembers;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return models.Member.find();\n\n              case 3:\n                rawMembers = _context.sent;\n                this.members = rawMembers.map(function (rawMember) {\n                  return new Member(rawMember);\n                });\n                return _context.abrupt("return", true);\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context["catch"](0);\n                console.error("Failed to initialize MembersHandler");\n                console.error(_context.t0);\n                return _context.abrupt("return", false);\n\n              case 13:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 8]]);\n      }));\n\n      function init() {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n  }, {\n    key: "updateMember",\n    value: function updateMember(member) {\n      var current = this.members.find(function (current) {\n        return member._id === current._id;\n      });\n      if (current != null) current.update(member);else this.members.push(member);\n      this.emit(Events.Changed, this.toEvent());\n    }\n  }, {\n    key: "dispose",\n    value: function dispose() {\n      this.removeAllListeners();\n    }\n  }, {\n    key: "toEvent",\n    value: function toEvent() {\n      return this.members;\n    }\n  }]);\n\n  return MembersHandler;\n}((external_events_default()));\n// CONCATENATED MODULE: external "core-js/modules/web.queue-microtask"\nconst web_queue_microtask_namespaceObject = require("core-js/modules/web.queue-microtask");;\n// CONCATENATED MODULE: ./src/core/Waiter.js\n;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction Waiter_typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { Waiter_typeof = function _typeof(obj) { return typeof obj; }; } else { Waiter_typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return Waiter_typeof(obj); }\n\nfunction Waiter_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction Waiter_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction Waiter_createClass(Constructor, protoProps, staticProps) { if (protoProps) Waiter_defineProperties(Constructor.prototype, protoProps); if (staticProps) Waiter_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction Waiter_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) Waiter_setPrototypeOf(subClass, superClass); }\n\nfunction Waiter_setPrototypeOf(o, p) { Waiter_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return Waiter_setPrototypeOf(o, p); }\n\nfunction Waiter_createSuper(Derived) { var hasNativeReflectConstruct = Waiter_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = Waiter_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = Waiter_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return Waiter_possibleConstructorReturn(this, result); }; }\n\nfunction Waiter_possibleConstructorReturn(self, call) { if (call && (Waiter_typeof(call) === "object" || typeof call === "function")) { return call; } return Waiter_assertThisInitialized(self); }\n\nfunction Waiter_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction Waiter_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction Waiter_getPrototypeOf(o) { Waiter_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return Waiter_getPrototypeOf(o); }\n\nfunction Waiter_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nvar Waiter = /*#__PURE__*/function (_Emitter) {\n  Waiter_inherits(Waiter, _Emitter);\n\n  var _super = Waiter_createSuper(Waiter);\n\n  function Waiter() {\n    var _this;\n\n    Waiter_classCallCheck(this, Waiter);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    Waiter_defineProperty(Waiter_assertThisInitialized(_this), "_date", void 0);\n\n    Waiter_defineProperty(Waiter_assertThisInitialized(_this), "_timeoutId", void 0);\n\n    return _this;\n  }\n\n  Waiter_createClass(Waiter, [{\n    key: "reset",\n    value: function reset(date) {\n      var _this2 = this;\n\n      this._clear();\n\n      this._date = date;\n      queueMicrotask(function () {\n        _this2._reset();\n      });\n    }\n  }, {\n    key: "stop",\n    value: function stop() {\n      this._clear();\n    }\n  }, {\n    key: "_reset",\n    value: function _reset() {\n      var _this3 = this;\n\n      this._clear();\n\n      var diff = this._date - Date.now();\n\n      if (diff <= 0) {\n        this.emit(Events.Ready);\n        return;\n      }\n\n      this._timeoutId = setTimeout(function () {\n        _this3._timeoutId = null;\n\n        _this3._reset();\n      }, Math.min(diff, 60000));\n    }\n  }, {\n    key: "_clear",\n    value: function _clear() {\n      if (this._timeoutId != null) {\n        clearTimeout(this._timeoutId);\n        this._timeoutId = null;\n      }\n    }\n  }]);\n\n  return Waiter;\n}((external_events_default()));\n// CONCATENATED MODULE: ./src/core/MarketService.js\n;\n\n\n\n\n\nfunction MarketService_asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction MarketService_asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { MarketService_asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { MarketService_asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nfunction MarketService_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction MarketService_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction MarketService_createClass(Constructor, protoProps, staticProps) { if (protoProps) MarketService_defineProperties(Constructor.prototype, protoProps); if (staticProps) MarketService_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction MarketService_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\nvar MarketState = {\n  Wait: \'Wait\',\n  Active: \'Active\',\n  Finished: \'Finished\'\n};\n\nvar Market = /*#__PURE__*/function () {\n  function Market(from) {\n    MarketService_classCallCheck(this, Market);\n\n    MarketService_defineProperty(this, "start", void 0);\n\n    MarketService_defineProperty(this, "end", void 0);\n\n    MarketService_defineProperty(this, "recomputeDuration", void 0);\n\n    if (!from) return;\n    this.update(from);\n  }\n\n  MarketService_createClass(Market, [{\n    key: "update",\n    value: function update(from) {\n      this.start = new Date(from.start);\n      this.end = new Date(from.end);\n      this.recomputeDuration = from.recomputeDuration;\n    }\n  }]);\n\n  return Market;\n}();\n\nvar MarketService = /*#__PURE__*/function () {\n  function MarketService() {\n    var _this = this;\n\n    MarketService_classCallCheck(this, MarketService);\n\n    MarketService_defineProperty(this, "_waiter", new Waiter());\n\n    MarketService_defineProperty(this, "_endWaiter", new Waiter());\n\n    MarketService_defineProperty(this, "_state", MarketState.Wait);\n\n    MarketService_defineProperty(this, "_sharesHandler", void 0);\n\n    MarketService_defineProperty(this, "_membersHandler", void 0);\n\n    MarketService_defineProperty(this, "_market", void 0);\n\n    MarketService_defineProperty(this, "_socket", void 0);\n\n    this._waiter.on(Events.Ready, /*#__PURE__*/MarketService_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this._sharesHandler.init();\n\n            case 2:\n              _context.t0 = !_context.sent;\n\n              if (_context.t0) {\n                _context.next = 7;\n                break;\n              }\n\n              _context.next = 6;\n              return _this._membersHandler.init();\n\n            case 6:\n              _context.t0 = !_context.sent;\n\n            case 7:\n              if (!_context.t0) {\n                _context.next = 16;\n                break;\n              }\n\n              console.error("Failed to start market");\n              _this._state = MarketState.Finished;\n\n              _this._socket.emit(Events.OutMarket, _this.toEvent());\n\n              _this._sharesHandler.dispose();\n\n              _this._membersHandler.dispose();\n\n              _this._sharesHandler = null;\n              _this._membersHandler = null;\n              return _context.abrupt("return");\n\n            case 16:\n              _this._state = MarketState.Active;\n              _this._market.start = new Date(Date.now());\n\n              _this._socket.emit(Events.OutMarket, _this.toEvent());\n\n              _this._socket.emit(Events.OutShares, _this._sharesHandler.toEvent());\n\n              _this._socket.emit(Events.OutMembers, _this._membersHandler.toEvent());\n\n              _this._endWaiter.reset(_this._market.end);\n\n            case 22:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    this._endWaiter.on(Events.Ready, /*#__PURE__*/MarketService_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this._state = MarketState.Finished;\n\n              _this._sharesHandler.dispose();\n\n              _this._membersHandler.dispose();\n\n              _this._socket.emit(Events.OutMarket, _this.toEvent());\n\n            case 4:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    })));\n  }\n\n  MarketService_createClass(MarketService, [{\n    key: "init",\n    value: function init(socket) {\n      var _this2 = this;\n\n      this._socket = socket;\n\n      this._socket.on(\'connect\', function (socket) {\n        // info:\n        // {\n        //      shareId: String  // id of share\n        //      memberId: String\n        //      sharesCount: number\n        // }\n        socket.on(Events.InBuyShares, /*#__PURE__*/function () {\n          var _ref3 = MarketService_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(info) {\n            var share, owner, member;\n            return regeneratorRuntime.wrap(function _callee3$(_context3) {\n              while (1) {\n                switch (_context3.prev = _context3.next) {\n                  case 0:\n                    _context3.prev = 0;\n\n                    if (!(_this2._state !== MarketState.Active)) {\n                      _context3.next = 4;\n                      break;\n                    }\n\n                    socket.emit(Events.OutError, \'Аукцион неактивен.\');\n                    return _context3.abrupt("return");\n\n                  case 4:\n                    share = _this2._sharesHandler.shares.find(function (share) {\n                      return share._id === info.shareId;\n                    });\n                    owner = share.owners.find(function (owner) {\n                      return owner._id === info.memberId;\n                    });\n                    member = _this2._membersHandler.members.find(function (member) {\n                      return member._id === info.memberId;\n                    });\n\n                    if (!(member == null)) {\n                      _context3.next = 10;\n                      break;\n                    }\n\n                    console.error("Failed to find member with id ".concat(userId));\n                    return _context3.abrupt("return");\n\n                  case 10:\n                    if (owner == null) {\n                      owner = new ShareOwner({\n                        _id: member._id,\n                        sharesCount: 0\n                      });\n                    }\n\n                    if (!(info.sharesCount > share.availableCount)) {\n                      _context3.next = 14;\n                      break;\n                    }\n\n                    socket.emit(Events.OutError, \'Нет доступного количества акций.\');\n                    return _context3.abrupt("return");\n\n                  case 14:\n                    if (!(info.sharesCount * share.price > member.money)) {\n                      _context3.next = 17;\n                      break;\n                    }\n\n                    socket.emit(Events.OutError, \'Недостаточно средств на балансе.\');\n                    return _context3.abrupt("return");\n\n                  case 17:\n                    if (!(info.sharesCount < 0 && Math.abs(info.sharesCount) > owner.sharesCount)) {\n                      _context3.next = 20;\n                      break;\n                    }\n\n                    socket.emit(Events.OutError, "\\u0414\\u043B\\u044F \\u043F\\u0440\\u043E\\u0434\\u0430\\u0436\\u0438 \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u043E \\u0442\\u043E\\u043B\\u044C\\u043A\\u043E ".concat(owner.sharesCount, " \\u0430\\u043A\\u0446\\u0438\\u0439."));\n                    return _context3.abrupt("return");\n\n                  case 20:\n                    owner.sharesCount += info.sharesCount;\n                    member.money -= info.sharesCount * share.price;\n                    share.updateOwner(owner);\n\n                    _this2._membersHandler.updateMember(member);\n\n                    _context3.next = 30;\n                    break;\n\n                  case 26:\n                    _context3.prev = 26;\n                    _context3.t0 = _context3["catch"](0);\n                    console.error(_context3.t0);\n                    socket.emit(Events.OutError, \'Неизвестная ошибка\');\n\n                  case 30:\n                  case "end":\n                    return _context3.stop();\n                }\n              }\n            }, _callee3, null, [[0, 26]]);\n          }));\n\n          return function (_x) {\n            return _ref3.apply(this, arguments);\n          };\n        }());\n        socket.on(Events.InRefreshMarket, function () {\n          _this2.reload();\n        });\n        socket.emit(Events.OutMarket, _this2.toEvent());\n\n        if (_this2._state === MarketState.Active) {\n          socket.emit(Events.OutShares, _this2._sharesHandler.toEvent());\n          socket.emit(Events.OutMembers, _this2._membersHandler.toEvent());\n        }\n      });\n\n      return this.reload();\n    }\n  }, {\n    key: "reload",\n    value: function () {\n      var _reload = MarketService_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n        var _this$_sharesHandler,\n            _this$_membersHandler,\n            _this3 = this;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                this._endWaiter.stop();\n\n                this._state = MarketState.Wait;\n\n                this._socket.emit(Events.OutMarket, this.toEvent());\n\n                _context4.prev = 3;\n                _context4.t0 = Market;\n                _context4.next = 7;\n                return models.Market.findOne();\n\n              case 7:\n                _context4.t1 = _context4.sent;\n                this._market = new _context4.t0(_context4.t1);\n                _context4.next = 16;\n                break;\n\n              case 11:\n                _context4.prev = 11;\n                _context4.t2 = _context4["catch"](3);\n                console.error("Failed to reload MarketService");\n                console.error(_context4.t2);\n                return _context4.abrupt("return", false);\n\n              case 16:\n                this._waiter.stop();\n\n                (_this$_sharesHandler = this._sharesHandler) === null || _this$_sharesHandler === void 0 ? void 0 : _this$_sharesHandler.dispose();\n                (_this$_membersHandler = this._membersHandler) === null || _this$_membersHandler === void 0 ? void 0 : _this$_membersHandler.dispose();\n                this._sharesHandler = new SharesHandler();\n                this._membersHandler = new MembersHandler();\n\n                if (!(this._market.end < Date.now())) {\n                  _context4.next = 25;\n                  break;\n                }\n\n                this._state = MarketState.Finished;\n\n                this._socket.emit(Events.OutMarket, this.toEvent());\n\n                return _context4.abrupt("return", true);\n\n              case 25:\n                this._sharesHandler.on(Events.Changed, function () {\n                  _this3._socket.emit(Events.OutShares, _this3._sharesHandler.toEvent());\n                });\n\n                this._membersHandler.on(Events.Changed, function () {\n                  _this3._socket.emit(Events.OutMembers, _this3._membersHandler.toEvent());\n                });\n\n                this._state = MarketState.Wait;\n\n                this._socket.emit(Events.OutMarket, this.toEvent());\n\n                this._waiter.reset(this._market.start);\n\n                return _context4.abrupt("return", true);\n\n              case 31:\n              case "end":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[3, 11]]);\n      }));\n\n      function reload() {\n        return _reload.apply(this, arguments);\n      }\n\n      return reload;\n    }()\n  }, {\n    key: "toEvent",\n    value: function toEvent() {\n      var _this$_market, _this$_market2, _this$_market3;\n\n      return {\n        start: (_this$_market = this._market) === null || _this$_market === void 0 ? void 0 : _this$_market.start,\n        end: (_this$_market2 = this._market) === null || _this$_market2 === void 0 ? void 0 : _this$_market2.end,\n        recomputeDuration: (_this$_market3 = this._market) === null || _this$_market3 === void 0 ? void 0 : _this$_market3.recomputeDuration,\n        state: this._state\n      };\n    }\n  }]);\n\n  return MarketService;\n}();\n\nMarketService_defineProperty(MarketService, "instance", new MarketService());\n\n\n// CONCATENATED MODULE: ./src/www.js\n;\n\n\n\nvar appSettings = {\n  port: 3000,\n  host: \'lr6.test\'\n};\nvar socket = external_socket_io_default()({\n  path: \'/socket\'\n});\nMarketService.instance.init(socket);\nvar server = external_http_default().createServer(src_app);\nsocket.attach(server, {\n  cors: {\n    origin: "http://localhost",\n    methods: ["GET", "POST"]\n  }\n});\nserver.listen(appSettings.port);\nserver.on(\'listening\', function () {\n  console.log("Listening on ".concat(appSettings.port));\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9scjYtc2VydmVyL2V4dGVybmFsIFwiaHR0cFwiPzhkMTkiLCJ3ZWJwYWNrOi8vbHI2LXNlcnZlci9leHRlcm5hbCBcImV4cHJlc3NcIj8yMmZlIiwid2VicGFjazovL2xyNi1zZXJ2ZXIvZXh0ZXJuYWwgXCJjb29raWUtcGFyc2VyXCI/MjFkYyIsIndlYnBhY2s6Ly9scjYtc2VydmVyL2V4dGVybmFsIFwiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdFwiP2I5ZjMiLCJ3ZWJwYWNrOi8vbHI2LXNlcnZlci9leHRlcm5hbCBcImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kXCI/NzlkMyIsIndlYnBhY2s6Ly9scjYtc2VydmVyL2V4dGVybmFsIFwiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmdcIj9jM2IxIiwid2VicGFjazovL2xyNi1zZXJ2ZXIvZXh0ZXJuYWwgXCJjb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZVwiPzQ2NzYiLCJ3ZWJwYWNrOi8vbHI2LXNlcnZlci9leHRlcm5hbCBcInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZVwiP2JjODAiLCJ3ZWJwYWNrOi8vbHI2LXNlcnZlci9leHRlcm5hbCBcImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLm5vd1wiP2E0YTIiLCJ3ZWJwYWNrOi8vbHI2LXNlcnZlci9leHRlcm5hbCBcImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZ1wiPzQ1ODciLCJ3ZWJwYWNrOi8vbHI2LXNlcnZlci9leHRlcm5hbCBcImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5iaW5kXCI/ZDYwOSIsIndlYnBhY2s6Ly9scjYtc2VydmVyL2V4dGVybmFsIFwiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvclwiPzk1ZmMiLCJ3ZWJwYWNrOi8vbHI2LXNlcnZlci9leHRlcm5hbCBcIm1vbmdvb3NlXCI/ZmZkNyIsIndlYnBhY2s6Ly9scjYtc2VydmVyLy4vc3JjL21vZGVscy5qcz8zMjQyIiwid2VicGFjazovL2xyNi1zZXJ2ZXIvLi9zcmMvcm91dGVzL21lbWJlci1yb3V0ZXIuanM/YmMxMCIsIndlYnBhY2s6Ly9scjYtc2VydmVyLy4vc3JjL3JvdXRlcy9zaGFyZS1yb3V0ZXIuanM/ZmVlZSIsIndlYnBhY2s6Ly9scjYtc2VydmVyLy4vc3JjL3JvdXRlcy9tYXJrZXQtcm91dGVyLmpzP2M3ZDgiLCJ3ZWJwYWNrOi8vbHI2LXNlcnZlci8uL3NyYy9yb3V0ZXMvYXBwLXJvdXRlci5qcz9lMmE2Iiwid2VicGFjazovL2xyNi1zZXJ2ZXIvZXh0ZXJuYWwgXCJjb3JzXCI/N2U5ZSIsIndlYnBhY2s6Ly9scjYtc2VydmVyLy4vc3JjL2FwcC5qcz8xMTEyIiwid2VicGFjazovL2xyNi1zZXJ2ZXIvZXh0ZXJuYWwgXCJzb2NrZXQuaW9cIj9jYjM0Iiwid2VicGFjazovL2xyNi1zZXJ2ZXIvZXh0ZXJuYWwgXCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmRlZmluZS1wcm9wZXJ0eVwiP2VlYTMiLCJ3ZWJwYWNrOi8vbHI2LXNlcnZlci9leHRlcm5hbCBcImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2xcIj81OTBhIiwid2VicGFjazovL2xyNi1zZXJ2ZXIvZXh0ZXJuYWwgXCJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uXCI/ZGYyYSIsIndlYnBhY2s6Ly9scjYtc2VydmVyL2V4dGVybmFsIFwiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5pdGVyYXRvclwiP2MyZDIiLCJ3ZWJwYWNrOi8vbHI2LXNlcnZlci9leHRlcm5hbCBcImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaFwiPzU2YjQiLCJ3ZWJwYWNrOi8vbHI2LXNlcnZlci9leHRlcm5hbCBcImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZlwiPzFlNTMiLCJ3ZWJwYWNrOi8vbHI2LXNlcnZlci9leHRlcm5hbCBcImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvclwiPzQ2OTIiLCJ3ZWJwYWNrOi8vbHI2LXNlcnZlci9leHRlcm5hbCBcImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXBcIj80NjI5Iiwid2VicGFjazovL2xyNi1zZXJ2ZXIvZXh0ZXJuYWwgXCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlXCI/NjYzOSIsIndlYnBhY2s6Ly9scjYtc2VydmVyL2V4dGVybmFsIFwiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZVwiPzM0ZGQiLCJ3ZWJwYWNrOi8vbHI2LXNlcnZlci9leHRlcm5hbCBcImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lXCI/NjMxMyIsIndlYnBhY2s6Ly9scjYtc2VydmVyL2V4dGVybmFsIFwiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5jcmVhdGVcIj80YThhIiwid2VicGFjazovL2xyNi1zZXJ2ZXIvZXh0ZXJuYWwgXCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1wcm90b3R5cGUtb2ZcIj9kNDgwIiwid2VicGFjazovL2xyNi1zZXJ2ZXIvZXh0ZXJuYWwgXCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnNldC1wcm90b3R5cGUtb2ZcIj80YjBlIiwid2VicGFjazovL2xyNi1zZXJ2ZXIvZXh0ZXJuYWwgXCJjb3JlLWpzL21vZHVsZXMvZXMucmVmbGVjdC5jb25zdHJ1Y3RcIj8wNzNjIiwid2VicGFjazovL2xyNi1zZXJ2ZXIvZXh0ZXJuYWwgXCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZ1wiPzI0MmYiLCJ3ZWJwYWNrOi8vbHI2LXNlcnZlci9leHRlcm5hbCBcImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3JcIj8yOTM2Iiwid2VicGFjazovL2xyNi1zZXJ2ZXIvZXh0ZXJuYWwgXCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaFwiP2Y3NGQiLCJ3ZWJwYWNrOi8vbHI2LXNlcnZlci9leHRlcm5hbCBcImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yXCI/YjM0NyIsIndlYnBhY2s6Ly9scjYtc2VydmVyL2V4dGVybmFsIFwiY29yZS1qcy9tb2R1bGVzL3dlYi50aW1lcnNcIj85N2E1Iiwid2VicGFjazovL2xyNi1zZXJ2ZXIvZXh0ZXJuYWwgXCJldmVudHNcIj83YTdlIiwid2VicGFjazovL2xyNi1zZXJ2ZXIvLi9zcmMvY29yZS9FdmVudHMuanM/YzkzMCIsIndlYnBhY2s6Ly9scjYtc2VydmVyL2V4dGVybmFsIFwicmFuZG9tXCI/ZTQxNiIsIndlYnBhY2s6Ly9scjYtc2VydmVyLy4vc3JjL2NvcmUvRGlzdHJpYnV0aW9uLmpzPzk3MzIiLCJ3ZWJwYWNrOi8vbHI2LXNlcnZlci8uL3NyYy9jb3JlL1NoYXJlc0hhbmRsZXIuanM/MmE2OSIsIndlYnBhY2s6Ly9scjYtc2VydmVyLy4vc3JjL2NvcmUvTWVtYmVyc0hhbmRsZXIuanM/MzYxNCIsIndlYnBhY2s6Ly9scjYtc2VydmVyL2V4dGVybmFsIFwiY29yZS1qcy9tb2R1bGVzL3dlYi5xdWV1ZS1taWNyb3Rhc2tcIj8wZWQzIiwid2VicGFjazovL2xyNi1zZXJ2ZXIvLi9zcmMvY29yZS9XYWl0ZXIuanM/ZTc2NCIsIndlYnBhY2s6Ly9scjYtc2VydmVyLy4vc3JjL2NvcmUvTWFya2V0U2VydmljZS5qcz8wMTJkIiwid2VicGFjazovL2xyNi1zZXJ2ZXIvLi9zcmMvd3d3LmpzPzc4ZDYiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ1c2VDcmVhdGVJbmRleCIsImNvbnNvbGUiLCJlcnJvciIsImJpbmQiLCJtZW1iZXJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidW5pcXVlIiwibW9uZXkiLCJOdW1iZXIiLCJtaW4iLCJzaGFyZVNjaGVtYSIsImRpc3RyaWJ1dGlvbiIsImRpc3BlcnNpb24iLCJwcmljZSIsImNvdW50IiwibWFya2V0U2NoZW1hIiwic3RhcnQiLCJEYXRlIiwibm93IiwiZW5kIiwicmVjb21wdXRlRHVyYXRpb24iLCJNZW1iZXJNb2RlbCIsIlNoYXJlTW9kZWwiLCJNYXJrZXRNb2RlbCIsIk1lbWJlciIsIlNoYXJlIiwiTWFya2V0Iiwicm91dGVyIiwiZXhwcmVzcyIsImdldCIsInJlcSIsInJlcyIsIm1lbWJlcnMiLCJzZW5kIiwibG9nIiwidXJsIiwiSlNPTiIsInN0cmluZ2lmeSIsIl9pZCIsInBhcmFtcyIsIm1lbWJlcklkIiwibWVtYmVyIiwic2VuZFN0YXR1cyIsInB1dCIsImJvZHkiLCJ1bmRlZmluZWQiLCJzYXZlIiwic3RhdHVzIiwidmFsaWRhdGUiLCJzaGFyZXMiLCJzaGFyZSIsInNoYXJlSWQiLCJpbnN0YW50aWF0ZU1hcmtldElmTmVlZCIsIm1hcmtldCIsInByb2Nlc3MiLCJleGl0IiwiY3VycmVudE1hcmtldCIsInVzZSIsIm1lbWJlclJvdXRlciIsInNoYXJlUm91dGVyIiwibWFya2V0Um91dGVyIiwiYXBwIiwiY29ycyIsImV4dGVuZGVkIiwiY29va2llUGFyc2VyIiwiYXBwUm91dGVyIiwiT3V0TWFya2V0IiwiT3V0U2hhcmVzIiwiT3V0TWVtYmVycyIsIk91dEVycm9yIiwiSW5CdXlTaGFyZXMiLCJJblJlZnJlc2hNYXJrZXQiLCJDaGFuZ2VkIiwiUmVhZHkiLCJVbml0IiwiTm9ybWFsIiwiQmlub21pYWwiLCJTaGFyZU93bmVyIiwiZnJvbSIsInVwZGF0ZSIsInRvU3RyaW5nIiwic2hhcmVzQ291bnQiLCJvd25lcnMiLCJlbWl0IiwiRXZlbnRzIiwib3duZXIiLCJjdXJyZW50IiwiZmluZCIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsInB1c2giLCJEaXN0cmlidXRpb24iLCJyYW5kb20iLCJuIiwiTWF0aCIsIm1heCIsInJvdW5kIiwicmVkdWNlIiwidG90YWxDb3VudCIsIkVtaXR0ZXIiLCJTaGFyZXNIYW5kbGVyIiwibSIsInJhd1NoYXJlcyIsIm1hcCIsInJhd1NoYXJlIiwib24iLCJfcmVjb21wdXRlSW50ZXJ2YWxJZCIsInNldEludGVydmFsIiwiZm9yRWFjaCIsInJlY29tcHV0ZVByaWNlIiwiY2xlYXJJbnRlcnZhbCIsInJlbW92ZUFsbExpc3RlbmVycyIsIk1lbWJlcnNIYW5kbGVyIiwicmF3TWVtYmVycyIsInJhd01lbWJlciIsInRvRXZlbnQiLCJXYWl0ZXIiLCJkYXRlIiwiX2NsZWFyIiwiX2RhdGUiLCJxdWV1ZU1pY3JvdGFzayIsIl9yZXNldCIsImRpZmYiLCJfdGltZW91dElkIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsIk1hcmtldFN0YXRlIiwiV2FpdCIsIkFjdGl2ZSIsIkZpbmlzaGVkIiwiTWFya2V0U2VydmljZSIsIl93YWl0ZXIiLCJfc2hhcmVzSGFuZGxlciIsImluaXQiLCJfbWVtYmVyc0hhbmRsZXIiLCJfc3RhdGUiLCJfc29ja2V0IiwiZGlzcG9zZSIsIl9tYXJrZXQiLCJfZW5kV2FpdGVyIiwicmVzZXQiLCJzb2NrZXQiLCJpbmZvIiwidXNlcklkIiwiYXZhaWxhYmxlQ291bnQiLCJhYnMiLCJ1cGRhdGVPd25lciIsInVwZGF0ZU1lbWJlciIsInJlbG9hZCIsInN0b3AiLCJzdGF0ZSIsImFwcFNldHRpbmdzIiwicG9ydCIsImhvc3QiLCJTZXJ2ZXIiLCJwYXRoIiwic2VydmVyIiwiaHR0cCIsImF0dGFjaCIsIm9yaWdpbiIsIm1ldGhvZHMiLCJsaXN0ZW4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTSw2QkFBNEIsb0I7OztBQ0FsQyxNQUFNLGdDQUE0Qix1Qjs7O0FDQWxDLE1BQU0sc0NBQTRCLDZCOzs7QUNBbEMsTUFBTSwrQkFBNEIsK0M7O0FDQWxDLE1BQU0sNkJBQTRCLDZDOztBQ0FsQyxNQUFNLG1DQUE0QixtRDs7QUNBbEMsTUFBTSwwQkFBNEIsMEM7O0FDQWxDLE1BQU0sdUJBQTRCLDJDOztBQ0FsQyxNQUFNLDJCQUE0QiwyQzs7QUNBbEMsTUFBTSxpQ0FBNEIsaUQ7O0FDQWxDLE1BQU0sZ0NBQTRCLGdEOztBQ0FsQyxN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ZW50IjpbImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiaHR0cFwiKTs7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJleHByZXNzXCIpOzsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImNvb2tpZS1wYXJzZXJcIik7OyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdFwiKTs7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZFwiKTs7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZ1wiKTs7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJjb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZVwiKTs7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWVcIik7OyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUubm93XCIpOzsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZ1wiKTs7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24uYmluZFwiKTs7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yXCIpOzsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIm1vbmdvb3NlXCIpOzsiLCJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxubW9uZ29vc2UuY29ubmVjdChcclxuICAgIFwibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9scjVcIixcclxuICAgIHtcclxuICAgICAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXHJcbiAgICAgICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxyXG4gICAgICAgIHVzZUNyZWF0ZUluZGV4OiB0cnVlLFxyXG4gICAgfVxyXG4pO1xyXG5cclxubW9uZ29vc2UuY29ubmVjdGlvbi5vbignZXJyb3InLCBjb25zb2xlLmVycm9yLmJpbmQoY29uc29sZSwgJ2Nvbm5lY3Rpb24gZXJyb3I6JykpO1xyXG5cclxuY29uc3QgbWVtYmVyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgICBuYW1lOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIHVuaXF1ZTogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBtb25leToge1xyXG4gICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICBkZWZhdWx0OiAwLFxyXG4gICAgICAgIG1pbjogMCxcclxuICAgIH0sXHJcbn0pO1xyXG5cclxuY29uc3Qgc2hhcmVTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICAgIG5hbWU6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgZGVmYXVsdDogXCJVbmtub3duXCIsXHJcbiAgICB9LFxyXG4gICAgZGlzdHJpYnV0aW9uOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIGRpc3BlcnNpb246IHtcclxuICAgICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgbWluOiAwLFxyXG4gICAgfSxcclxuICAgIHByaWNlOiB7XHJcbiAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIG1pbjogMCxcclxuICAgIH0sXHJcbiAgICBjb3VudDoge1xyXG4gICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICBtaW46IDAsXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY29uc3QgbWFya2V0U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgICBzdGFydDoge1xyXG4gICAgICAgIHR5cGU6IERhdGUsXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgZGVmYXVsdDogbmV3IERhdGUoRGF0ZS5ub3coKSlcclxuICAgIH0sXHJcbiAgICBlbmQ6IHtcclxuICAgICAgICB0eXBlOiBEYXRlLFxyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIGRlZmF1bHQ6IG5ldyBEYXRlKERhdGUubm93KCkpXHJcbiAgICB9LFxyXG4gICAgcmVjb21wdXRlRHVyYXRpb246IHtcclxuICAgICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgbWluOiAxLFxyXG4gICAgICAgIGRlZmF1bHQ6IDYwLFxyXG4gICAgfSxcclxufSk7XHJcblxyXG5sZXQgTWVtYmVyTW9kZWwgPSBtb25nb29zZS5tb2RlbCgnbWVtYmVyJywgbWVtYmVyU2NoZW1hKTtcclxubGV0IFNoYXJlTW9kZWwgPSBtb25nb29zZS5tb2RlbCgnc2hhcmUnLCBzaGFyZVNjaGVtYSk7XHJcbmxldCBNYXJrZXRNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCdtYXJrZXQnLCBtYXJrZXRTY2hlbWEpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgTWVtYmVyOiBNZW1iZXJNb2RlbCxcclxuICAgIFNoYXJlOiBTaGFyZU1vZGVsLFxyXG4gICAgTWFya2V0OiBNYXJrZXRNb2RlbCxcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIE1lbWJlck1vZGVsIGFzIE1lbWJlcixcclxuICAgIFNoYXJlTW9kZWwgYXMgU2hhcmUsXHJcbiAgICBNYXJrZXRNb2RlbCBhcyBNYXJrZXQsXHJcbn0iLCJpbXBvcnQge01lbWJlcn0gZnJvbSAnLi4vbW9kZWxzJztcclxuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcblxyXG5sZXQgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5nZXQoJy9tZW1iZXIvYWxsJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgbWVtYmVycyA9IGF3YWl0IE1lbWJlci5maW5kKCk7XHJcbiAgICByZXMuc2VuZChtZW1iZXJzKTtcclxuICAgIGNvbnNvbGUubG9nKGBHRVQgJHtyZXEudXJsfTogc2VuZCAke0pTT04uc3RyaW5naWZ5KG1lbWJlcnMpfWApO1xyXG59KTtcclxuXHJcbnJvdXRlci5nZXQoJy9tZW1iZXIvOm1lbWJlcklkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgbWVtYmVyID0gYXdhaXQgTWVtYmVyLmZpbmRPbmUoe19pZDogcmVxLnBhcmFtcy5tZW1iZXJJZH0pO1xyXG5cclxuICAgIGlmICghbWVtYmVyKVxyXG4gICAgICAgIHJlcy5zZW5kU3RhdHVzKDQwNCk7XHJcbiAgICBlbHNlXHJcbiAgICAgICAgcmVzLnNlbmQoYXdhaXQgTWVtYmVyLmZpbmQoKSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coYEdFVCAke3JlcS51cmx9OiBzZW5kIG1lbWJlcnNgKTtcclxufSk7XHJcblxyXG5yb3V0ZXIucHV0KCcvbWVtYmVyJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgbWVtYmVyID0gbmV3IE1lbWJlcihyZXEuYm9keSk7XHJcbiAgICBtZW1iZXIuX2lkID0gdW5kZWZpbmVkO1xyXG4gICAgbWVtYmVyLnNhdmUoYXN5bmMgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKTtcclxuICAgICAgICAgICAgcmVzLnNlbmQoZXJyb3IpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUFVUICR7cmVxLnVybH06IGVycm9yICR7ZXJyb3J9OyByZWNlaXZlICR7cmVxLmJvZHl9LCBzZW5kIDQwMGApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlcy5zZW5kKGF3YWl0IE1lbWJlci5maW5kKCkpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUFVUICR7cmVxLnVybH06IHJlY2VpdmUgJHtyZXEuYm9keX0sIHNlbmQgbWVtYmVyc2ApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KTtcclxuXHJcbnJvdXRlci5wdXQoJy9tZW1iZXIvOm1lbWJlcklkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgbWVtYmVyID0gbmV3IE1lbWJlcihyZXEuYm9keSk7XHJcbiAgICBtZW1iZXIuX2lkID0gcmVxLnBhcmFtcy5tZW1iZXJJZDtcclxuXHJcbiAgICBsZXQgZXJyb3I7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBtZW1iZXIudmFsaWRhdGUoKTtcclxuICAgICAgICBhd2FpdCBNZW1iZXIudXBkYXRlT25lKHtfaWQ6IG1lbWJlci5faWR9LCBtZW1iZXIpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGVycm9yID0gZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwMCk7XHJcbiAgICAgICAgcmVzLnNlbmQoZXJyb3IpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBQVVQgJHtyZXEudXJsfTogJHtlcnJvcn1gKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzLnNlbmQoYXdhaXQgTWVtYmVyLmZpbmQoKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYFBVVCAke3JlcS51cmx9OiBzZW5kIG1lbWJlcnNgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG5yb3V0ZXIuZGVsZXRlKCcvbWVtYmVyLzptZW1iZXJJZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc29sZS5sb2coYERFTEVURSAke3JlcS51cmx9YCk7XHJcbiAgICBNZW1iZXIuZGVsZXRlT25lKHtfaWQ6IHJlcS5wYXJhbXMubWVtYmVySWR9LCBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmVzLnNlbmQoYXdhaXQgTWVtYmVyLmZpbmQoKSk7XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7IiwiaW1wb3J0IHtTaGFyZX0gZnJvbSAnLi4vbW9kZWxzJztcclxuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcblxyXG5sZXQgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5nZXQoJy9zaGFyZS9hbGwnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCBzaGFyZXMgPSBhd2FpdCBTaGFyZS5maW5kKCk7XHJcbiAgICByZXMuc2VuZChzaGFyZXMpO1xyXG4gICAgY29uc29sZS5sb2coYEdFVCAke3JlcS51cmx9OiAke0pTT04uc3RyaW5naWZ5KHNoYXJlcyl9YCk7XHJcbn0pO1xyXG5cclxucm91dGVyLnB1dCgnL3NoYXJlJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgc2hhcmUgPSBuZXcgU2hhcmUocmVxLmJvZHkpO1xyXG4gICAgc2hhcmUuX2lkID0gdW5kZWZpbmVkO1xyXG4gICAgc2hhcmUuc2F2ZShhc3luYyBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApO1xyXG4gICAgICAgICAgICByZXMuc2VuZChlcnJvcik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBQVVQgJHtyZXEudXJsfTogJHtlcnJvcn1gKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUFVUICR7cmVxLnVybH06ICR7SlNPTi5zdHJpbmdpZnkoc2hhcmUpfSBzdWNjZXNzYCk7XHJcbiAgICAgICAgICAgIHJlcy5zZW5kKGF3YWl0IFNoYXJlLmZpbmQoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxucm91dGVyLnB1dCgnL3NoYXJlLzpzaGFyZUlkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgc2hhcmUgPSBuZXcgU2hhcmUocmVxLmJvZHkpO1xyXG4gICAgc2hhcmUuX2lkID0gcmVxLnBhcmFtcy5zaGFyZUlkO1xyXG5cclxuICAgIGxldCBlcnJvcjtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgc2hhcmUudmFsaWRhdGUoKTtcclxuICAgICAgICBhd2FpdCBTaGFyZS51cGRhdGVPbmUoe19pZDogc2hhcmUuX2lkfSwgc2hhcmUpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGVycm9yID0gZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwMCk7XHJcbiAgICAgICAgcmVzLnNlbmQoZXJyb3IpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBQVVQgJHtyZXEudXJsfTogJHtlcnJvcn1gKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzLnNlbmQoYXdhaXQgU2hhcmUuZmluZCgpKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhgUFVUICR7cmVxLnVybH06ICR7SlNPTi5zdHJpbmdpZnkoc2hhcmUpfWApO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbnJvdXRlci5kZWxldGUoJy9zaGFyZS86c2hhcmVJZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgIHRyeSB7XHJcbiAgICAgICAgIGF3YWl0IFNoYXJlLmRlbGV0ZU9uZSh7X2lkOiByZXEucGFyYW1zLnNoYXJlSWR9KTtcclxuICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgIGNvbnNvbGUubG9nKGBERUxFVEUgJHtyZXEudXJsfTogZXJyb3IgJHtlfWApO1xyXG4gICAgIH1cclxuXHJcbiAgICAgcmVzLnNlbmQoYXdhaXQgU2hhcmUuZmluZCgpKTtcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7IiwiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCB7TWFya2V0fSBmcm9tICcuLi9tb2RlbHMnO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gaW5zdGFudGlhdGVNYXJrZXRJZk5lZWQoKTogUHJvbWlzZTxNYXJrZXQ+IHtcclxuICAgIGxldCBtYXJrZXQgPSBhd2FpdCBNYXJrZXQuZmluZE9uZSgpO1xyXG5cclxuICAgIGlmIChtYXJrZXQpXHJcbiAgICAgICAgcmV0dXJuIG1hcmtldDtcclxuXHJcbiAgICBtYXJrZXQgPSBuZXcgTWFya2V0KCk7XHJcbiAgICBsZXQgZXJyb3IgPSBhd2FpdCBtYXJrZXQuc2F2ZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYGNhbm5vdCBpbml0aWFsaXplIE1hcmtldCB3aXRoICR7ZXJyb3J9YCk7XHJcbiAgICAgICAgcHJvY2Vzcy5leGl0KDEpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBtYXJrZXQ7XHJcbn1cclxuXHJcbmxldCByb3V0ZXIgPSBuZXcgZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5nZXQoJy9tYXJrZXQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCBtYXJrZXQgPSBhd2FpdCBpbnN0YW50aWF0ZU1hcmtldElmTmVlZCgpO1xyXG4gICAgcmVzLnNlbmQobWFya2V0KTtcclxuICAgIGNvbnNvbGUubG9nKGBHRVQgJHtyZXEudXJsfTogJHttYXJrZXR9YCk7XHJcbn0pO1xyXG5cclxucm91dGVyLnB1dCgnL21hcmtldCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGN1cnJlbnRNYXJrZXQgPSBhd2FpdCBpbnN0YW50aWF0ZU1hcmtldElmTmVlZCgpO1xyXG4gICAgbGV0IG1hcmtldCA9IG5ldyBNYXJrZXQocmVxLmJvZHkpO1xyXG4gICAgbWFya2V0Ll9pZCA9IGN1cnJlbnRNYXJrZXQuX2lkO1xyXG4gICAgbGV0IGVycm9yO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgbWFya2V0LnZhbGlkYXRlKCk7XHJcbiAgICAgICAgYXdhaXQgTWFya2V0LnVwZGF0ZU9uZSh7fSwgbWFya2V0KTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBlcnJvciA9IGU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApO1xyXG4gICAgICAgIHJlcy5zZW5kKGVycm9yKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhgUFVUICR7cmVxLnVybH06ICR7ZXJyb3J9YCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlcy5zZW5kKG1hcmtldCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYFBVVCAke3JlcS51cmx9OiAke21hcmtldH1gKTtcclxuICAgIH1cclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7IiwiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBtZW1iZXJSb3V0ZXIgZnJvbSAnLi9tZW1iZXItcm91dGVyJztcclxuaW1wb3J0IHNoYXJlUm91dGVyIGZyb20gJy4vc2hhcmUtcm91dGVyJztcclxuaW1wb3J0IG1hcmtldFJvdXRlciBmcm9tICcuL21hcmtldC1yb3V0ZXInO1xyXG5cclxubGV0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG5yb3V0ZXIudXNlKG1lbWJlclJvdXRlcik7XHJcbnJvdXRlci51c2Uoc2hhcmVSb3V0ZXIpO1xyXG5yb3V0ZXIudXNlKG1hcmtldFJvdXRlcik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJjb3JzXCIpOzsiLCJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBjb29raWVQYXJzZXIgZnJvbSAnY29va2llLXBhcnNlcic7XG5pbXBvcnQgYXBwUm91dGVyIGZyb20gJy4vcm91dGVzL2FwcC1yb3V0ZXInO1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XG5cbmxldCBhcHAgPSBleHByZXNzKCk7XG5cbmFwcC51c2UoY29ycygpKTtcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoeyBleHRlbmRlZDogZmFsc2UgfSkpO1xuYXBwLnVzZShjb29raWVQYXJzZXIoKSk7XG5hcHAudXNlKGFwcFJvdXRlcik7XG5cbmV4cG9ydCBkZWZhdWx0IGFwcDtcbiIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwic29ja2V0LmlvXCIpOzsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZGVmaW5lLXByb3BlcnR5XCIpOzsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2xcIik7OyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvblwiKTs7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yXCIpOzsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaFwiKTs7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2ZcIik7OyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yXCIpOzsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXBcIik7OyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZVwiKTs7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlXCIpOzsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lXCIpOzsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuY3JlYXRlXCIpOzsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZlwiKTs7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnNldC1wcm90b3R5cGUtb2ZcIik7OyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiY29yZS1qcy9tb2R1bGVzL2VzLnJlZmxlY3QuY29uc3RydWN0XCIpOzsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nXCIpOzsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3JcIik7OyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2hcIik7OyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3JcIik7OyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiY29yZS1qcy9tb2R1bGVzL3dlYi50aW1lcnNcIik7OyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiZXZlbnRzXCIpOzsiLCJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBPdXRNYXJrZXQ6ICdNYXJrZXQnLFxyXG4gICAgT3V0U2hhcmVzOiAnU2hhcmVzJyxcclxuICAgIE91dE1lbWJlcnM6ICdNZW1iZXJzJyxcclxuICAgIE91dEVycm9yOiAnRXJyb3InLFxyXG5cclxuICAgIEluQnV5U2hhcmVzOiAnQnV5U2hhcmVzJyxcclxuICAgIEluUmVmcmVzaE1hcmtldDogJ1JlZnJlc2hNYXJrZXQnLFxyXG5cclxuICAgIENoYW5nZWQ6ICdDaGFuZ2VkJyxcclxuICAgIFJlYWR5OiAnUmVhZHknLFxyXG59OyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwicmFuZG9tXCIpOzsiLCJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBVbml0OiAnZXZlbicsXHJcbiAgICBOb3JtYWw6ICdub3JtYWwnLFxyXG4gICAgQmlub21pYWw6ICdiaW5vbWlhbCdcclxufSIsImltcG9ydCBFbWl0dGVyIGZyb20gJ2V2ZW50cyc7XHJcbmltcG9ydCBFdmVudHMgZnJvbSAnLi9FdmVudHMnO1xyXG5pbXBvcnQgbSBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgcmFuZG9tIGZyb20gJ3JhbmRvbSc7XHJcbmltcG9ydCBEaXN0cmlidXRpb24gZnJvbSAnLi9EaXN0cmlidXRpb24nO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNoYXJlT3duZXIge1xyXG4gICAgY29uc3RydWN0b3IoZnJvbT8pIHtcclxuICAgICAgICBpZiAoIWZyb20pXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGUoZnJvbSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2lkOiBTdHJpbmc7XHJcbiAgICBzaGFyZXNDb3VudDogbnVtYmVyID0gMDtcclxuXHJcbiAgICB1cGRhdGUoZnJvbSkge1xyXG4gICAgICAgIHRoaXMuX2lkID0gZnJvbS5faWQudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgaWYgKGZyb20uc2hhcmVzQ291bnQgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgdGhpcy5zaGFyZXNDb3VudCA9IGZyb20uc2hhcmVzQ291bnQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTaGFyZSBleHRlbmRzIEVtaXR0ZXIge1xyXG4gICAgY29uc3RydWN0b3IoZnJvbT8pIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICBpZiAoIWZyb20pXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGUoZnJvbSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2lkOiBTdHJpbmc7XHJcbiAgICBuYW1lOiBTdHJpbmc7XHJcbiAgICBkaXN0cmlidXRpb246IFN0cmluZztcclxuICAgIGRpc3BlcnNpb246IG51bWJlcjtcclxuICAgIHByaWNlOiBudW1iZXI7XHJcbiAgICBjb3VudDogbnVtYmVyO1xyXG4gICAgb3duZXJzOiBBcnJheTxTaGFyZU93bmVyPjtcclxuXHJcbiAgICBnZXQgYXZhaWxhYmxlQ291bnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY291bnQgLSB0aGlzLm93bmVycy5yZWR1Y2UoKHRvdGFsQ291bnQsIG93bmVyKSA9PiB0b3RhbENvdW50ICsgb3duZXIuc2hhcmVzQ291bnQsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShmcm9tKSB7XHJcbiAgICAgICAgdGhpcy5faWQgPSBmcm9tLl9pZD8udG9TdHJpbmcoKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBmcm9tLm5hbWU7XHJcbiAgICAgICAgdGhpcy5kaXN0cmlidXRpb24gPSBmcm9tLmRpc3RyaWJ1dGlvbjtcclxuICAgICAgICB0aGlzLmRpc3BlcnNpb24gPSBmcm9tLmRpc3BlcnNpb247XHJcbiAgICAgICAgdGhpcy5wcmljZSA9IGZyb20ucHJpY2U7XHJcbiAgICAgICAgdGhpcy5jb3VudCA9IGZyb20uY291bnQ7XHJcbiAgICAgICAgdGhpcy5vd25lcnMgPSBmcm9tLm93bmVycyA/IGZyb20ub3duZXJzIDogW107XHJcbiAgICAgICAgdGhpcy5lbWl0KEV2ZW50cy5DaGFuZ2VkKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVPd25lcihvd25lcjogU2hhcmVPd25lcikge1xyXG4gICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5vd25lcnMuZmluZChjdXJyZW50ID0+IGN1cnJlbnQuX2lkID09PSBvd25lci5faWQpO1xyXG5cclxuICAgICAgICBpZiAob3duZXIuc2hhcmVzQ291bnQgPT09IDApIHtcclxuICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5vd25lcnMuaW5kZXhPZihjdXJyZW50KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm93bmVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KEV2ZW50cy5DaGFuZ2VkKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGN1cnJlbnQpXHJcbiAgICAgICAgICAgIGN1cnJlbnQudXBkYXRlKG93bmVyKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMub3duZXJzLnB1c2gob3duZXIpO1xyXG5cclxuICAgICAgICB0aGlzLmVtaXQoRXZlbnRzLkNoYW5nZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlY29tcHV0ZVByaWNlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRpc3RyaWJ1dGlvbiA9PT0gRGlzdHJpYnV0aW9uLlVuaXQpIHtcclxuICAgICAgICAgICAgdGhpcy5wcmljZSArPSByYW5kb20uZmxvYXQoLXRoaXMuZGlzcGVyc2lvbiwgdGhpcy5kaXNwZXJzaW9uKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGlzdHJpYnV0aW9uID0gRGlzdHJpYnV0aW9uLkJpbm9taWFsKSB7XHJcbiAgICAgICAgICAgIGxldCBuID0gTWF0aC5tYXgoMTAwMCwgdGhpcy5kaXNwZXJzaW9uKTtcclxuICAgICAgICAgICAgdGhpcy5wcmljZSArPSAocmFuZG9tLmJpbm9taWFsKG4pKCkgLSBuIC8gMikgLyBuICogdGhpcy5kaXNwZXJzaW9uICogMjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnByaWNlICs9IHJhbmRvbS5ub3JtYWwoKSgpICogdGhpcy5kaXNwZXJzaW9uIC8gMztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wcmljZSA9IE1hdGgucm91bmQodGhpcy5wcmljZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTaGFyZXNIYW5kbGVyIGV4dGVuZHMgRW1pdHRlciB7XHJcbiAgICBzaGFyZXM6IEFycmF5PFNoYXJlPjtcclxuICAgIF9yZWNvbXB1dGVJbnRlcnZhbElkO1xyXG5cclxuICAgIGFzeW5jIGluaXQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IG1hcmtldCA9IGF3YWl0IG0uTWFya2V0LmZpbmRPbmUoKTtcclxuICAgICAgICAgICAgbGV0IHJhd1NoYXJlcyA9IGF3YWl0IG0uU2hhcmUuZmluZCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNoYXJlcyA9IHJhd1NoYXJlcy5tYXAocmF3U2hhcmUgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNoYXJlID0gbmV3IFNoYXJlKHJhd1NoYXJlKTtcclxuICAgICAgICAgICAgICAgIHNoYXJlLm9uKEV2ZW50cy5DaGFuZ2VkLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KEV2ZW50cy5DaGFuZ2VkKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNoYXJlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5fcmVjb21wdXRlSW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hhcmVzLmZvckVhY2goc2hhcmUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNoYXJlLnJlY29tcHV0ZVByaWNlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChFdmVudHMuQ2hhbmdlZCk7XHJcbiAgICAgICAgICAgIH0sIG1hcmtldC5yZWNvbXB1dGVEdXJhdGlvbiAqIDEwMDApO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGlzcG9zZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5fcmVjb21wdXRlSW50ZXJ2YWxJZCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fcmVjb21wdXRlSW50ZXJ2YWxJZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlY29tcHV0ZUludGVydmFsSWQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2hhcmVzICE9IG51bGwpXHJcbiAgICAgICAgICAgIHRoaXMuc2hhcmVzLmZvckVhY2goc2hhcmUgPT4gc2hhcmUucmVtb3ZlQWxsTGlzdGVuZXJzKCkpO1xyXG5cclxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIHRvRXZlbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hhcmVzO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IG0gZnJvbSAnLi4vbW9kZWxzJztcclxuaW1wb3J0IEVtaXR0ZXIgZnJvbSAnZXZlbnRzJztcclxuaW1wb3J0IEV2ZW50cyBmcm9tIFwiLi9FdmVudHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNZW1iZXIge1xyXG4gICAgY29uc3RydWN0b3IgKGZyb20/KSB7XHJcbiAgICAgICAgaWYgKCFmcm9tKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlKGZyb20pO1xyXG4gICAgfVxyXG5cclxuICAgIF9pZDogU3RyaW5nO1xyXG4gICAgbmFtZTogU3RyaW5nO1xyXG4gICAgbW9uZXk6IG51bWJlcjtcclxuXHJcbiAgICB1cGRhdGUoZnJvbSkge1xyXG4gICAgICAgIHRoaXMuX2lkID0gZnJvbS5faWQudG9TdHJpbmcoKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBmcm9tLm5hbWU7XHJcbiAgICAgICAgdGhpcy5tb25leSA9IGZyb20ubW9uZXk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBNZW1iZXJzSGFuZGxlciBleHRlbmRzIEVtaXR0ZXJ7XHJcbiAgICBtZW1iZXJzOiBBcnJheTxNZW1iZXI+O1xyXG5cclxuICAgIGFzeW5jIGluaXQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHJhd01lbWJlcnMgPSBhd2FpdCBtLk1lbWJlci5maW5kKCk7XHJcbiAgICAgICAgICAgIHRoaXMubWVtYmVycyA9IHJhd01lbWJlcnMubWFwKHJhd01lbWJlciA9PiBuZXcgTWVtYmVyKHJhd01lbWJlcikpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBpbml0aWFsaXplIE1lbWJlcnNIYW5kbGVyYCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlTWVtYmVyKG1lbWJlcjogTWVtYmVyKSB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnQgPSB0aGlzLm1lbWJlcnMuZmluZChjdXJyZW50ID0+IG1lbWJlci5faWQgPT09IGN1cnJlbnQuX2lkKTtcclxuXHJcbiAgICAgICAgaWYgKGN1cnJlbnQgIT0gbnVsbClcclxuICAgICAgICAgICAgY3VycmVudC51cGRhdGUobWVtYmVyKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMubWVtYmVycy5wdXNoKG1lbWJlcik7XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdChFdmVudHMuQ2hhbmdlZCwgdGhpcy50b0V2ZW50KCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICB0b0V2ZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1lbWJlcnM7XHJcbiAgICB9XHJcbn0iLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy93ZWIucXVldWUtbWljcm90YXNrXCIpOzsiLCJpbXBvcnQgRW1pdHRlciBmcm9tICdldmVudHMnO1xyXG5pbXBvcnQgRXZlbnRzIGZyb20gJy4vRXZlbnRzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBXYWl0ZXIgZXh0ZW5kcyBFbWl0dGVye1xyXG4gICAgX2RhdGU6ID9EYXRlO1xyXG4gICAgX3RpbWVvdXRJZDtcclxuXHJcbiAgICByZXNldChkYXRlOiBEYXRlKSB7XHJcbiAgICAgICAgdGhpcy5fY2xlYXIoKTtcclxuICAgICAgICB0aGlzLl9kYXRlID0gZGF0ZTtcclxuICAgICAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jlc2V0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICB0aGlzLl9jbGVhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIF9yZXNldCgpIHtcclxuICAgICAgICB0aGlzLl9jbGVhcigpO1xyXG4gICAgICAgIGxldCBkaWZmID0gdGhpcy5fZGF0ZSAtIERhdGUubm93KCk7XHJcblxyXG4gICAgICAgIGlmIChkaWZmIDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KEV2ZW50cy5SZWFkeSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3RpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl90aW1lb3V0SWQgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9yZXNldCgpO1xyXG4gICAgICAgIH0sIE1hdGgubWluKGRpZmYsIDYwMDAwKSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2NsZWFyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl90aW1lb3V0SWQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dElkKTtcclxuICAgICAgICAgICAgdGhpcy5fdGltZW91dElkID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge1NoYXJlc0hhbmRsZXIsIFNoYXJlT3duZXJ9IGZyb20gXCIuL1NoYXJlc0hhbmRsZXJcIjtcclxuaW1wb3J0IHtNZW1iZXJzSGFuZGxlcn0gZnJvbSBcIi4vTWVtYmVyc0hhbmRsZXJcIjtcclxuaW1wb3J0IG0gZnJvbSAnLi4vbW9kZWxzJztcclxuaW1wb3J0IHtXYWl0ZXJ9IGZyb20gXCIuL1dhaXRlclwiO1xyXG5pbXBvcnQgRXZlbnRzIGZyb20gXCIuL0V2ZW50c1wiO1xyXG5cclxuY29uc3QgTWFya2V0U3RhdGUgPSB7XHJcbiAgICBXYWl0OiAnV2FpdCcsXHJcbiAgICBBY3RpdmU6ICdBY3RpdmUnLFxyXG4gICAgRmluaXNoZWQ6ICdGaW5pc2hlZCdcclxufTtcclxuXHJcbmNsYXNzIE1hcmtldCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihmcm9tPykge1xyXG4gICAgICAgIGlmICghZnJvbSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZShmcm9tKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydDogRGF0ZTtcclxuICAgIGVuZDogRGF0ZTtcclxuICAgIHJlY29tcHV0ZUR1cmF0aW9uOiBudW1iZXI7XHJcblxyXG4gICAgdXBkYXRlKGZyb20pIHtcclxuICAgICAgICB0aGlzLnN0YXJ0ID0gbmV3IERhdGUoZnJvbS5zdGFydCk7XHJcbiAgICAgICAgdGhpcy5lbmQgPSBuZXcgRGF0ZShmcm9tLmVuZCk7XHJcbiAgICAgICAgdGhpcy5yZWNvbXB1dGVEdXJhdGlvbiA9IGZyb20ucmVjb21wdXRlRHVyYXRpb247XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIE1hcmtldFNlcnZpY2Uge1xyXG4gICAgc3RhdGljIGluc3RhbmNlOiBNYXJrZXRTZXJ2aWNlID0gbmV3IE1hcmtldFNlcnZpY2UoKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLl93YWl0ZXIub24oRXZlbnRzLlJlYWR5LCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghYXdhaXQgdGhpcy5fc2hhcmVzSGFuZGxlci5pbml0KCkgfHwgIWF3YWl0IHRoaXMuX21lbWJlcnNIYW5kbGVyLmluaXQoKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHN0YXJ0IG1hcmtldGApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBNYXJrZXRTdGF0ZS5GaW5pc2hlZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NvY2tldC5lbWl0KEV2ZW50cy5PdXRNYXJrZXQsIHRoaXMudG9FdmVudCgpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlc0hhbmRsZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWVtYmVyc0hhbmRsZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVzSGFuZGxlciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tZW1iZXJzSGFuZGxlciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gTWFya2V0U3RhdGUuQWN0aXZlO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXJrZXQuc3RhcnQgPSBuZXcgRGF0ZShEYXRlLm5vdygpKTtcclxuICAgICAgICAgICAgdGhpcy5fc29ja2V0LmVtaXQoRXZlbnRzLk91dE1hcmtldCwgdGhpcy50b0V2ZW50KCkpO1xyXG4gICAgICAgICAgICB0aGlzLl9zb2NrZXQuZW1pdChFdmVudHMuT3V0U2hhcmVzLCB0aGlzLl9zaGFyZXNIYW5kbGVyLnRvRXZlbnQoKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NvY2tldC5lbWl0KEV2ZW50cy5PdXRNZW1iZXJzLCB0aGlzLl9tZW1iZXJzSGFuZGxlci50b0V2ZW50KCkpO1xyXG4gICAgICAgICAgICB0aGlzLl9lbmRXYWl0ZXIucmVzZXQodGhpcy5fbWFya2V0LmVuZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fZW5kV2FpdGVyLm9uKEV2ZW50cy5SZWFkeSwgYXN5bmMoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gTWFya2V0U3RhdGUuRmluaXNoZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX3NoYXJlc0hhbmRsZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9tZW1iZXJzSGFuZGxlci5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NvY2tldC5lbWl0KEV2ZW50cy5PdXRNYXJrZXQsIHRoaXMudG9FdmVudCgpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfd2FpdGVyID0gbmV3IFdhaXRlcigpO1xyXG4gICAgX2VuZFdhaXRlciA9IG5ldyBXYWl0ZXIoKTtcclxuICAgIF9zdGF0ZSA9IE1hcmtldFN0YXRlLldhaXQ7XHJcbiAgICBfc2hhcmVzSGFuZGxlcjogU2hhcmVzSGFuZGxlcjtcclxuICAgIF9tZW1iZXJzSGFuZGxlcjogTWVtYmVyc0hhbmRsZXI7XHJcbiAgICBfbWFya2V0OiBNYXJrZXQ7XHJcbiAgICBfc29ja2V0O1xyXG5cclxuICAgIGluaXQoc29ja2V0KSB7XHJcbiAgICAgICAgdGhpcy5fc29ja2V0ID0gc29ja2V0O1xyXG5cclxuICAgICAgICB0aGlzLl9zb2NrZXQub24oJ2Nvbm5lY3QnLCAoc29ja2V0KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGluZm86XHJcbiAgICAgICAgICAgIC8vIHtcclxuICAgICAgICAgICAgLy8gICAgICBzaGFyZUlkOiBTdHJpbmcgIC8vIGlkIG9mIHNoYXJlXHJcbiAgICAgICAgICAgIC8vICAgICAgbWVtYmVySWQ6IFN0cmluZ1xyXG4gICAgICAgICAgICAvLyAgICAgIHNoYXJlc0NvdW50OiBudW1iZXJcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICBzb2NrZXQub24oRXZlbnRzLkluQnV5U2hhcmVzLCBhc3luYyAoaW5mbzoge3NoYXJlSWQ6IFN0cmluZywgbWVtYmVySWQ6IFN0cmluZywgc2hhcmVzQ291bnQ6IG51bWJlcn0pID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3N0YXRlICE9PSBNYXJrZXRTdGF0ZS5BY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0LmVtaXQoRXZlbnRzLk91dEVycm9yLCAn0JDRg9C60YbQuNC+0L0g0L3QtdCw0LrRgtC40LLQtdC9LicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgc2hhcmUgPSB0aGlzLl9zaGFyZXNIYW5kbGVyLnNoYXJlcy5maW5kKHNoYXJlID0+IHNoYXJlLl9pZCA9PT0gaW5mby5zaGFyZUlkKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgb3duZXIgPSBzaGFyZS5vd25lcnMuZmluZChvd25lciA9PiBvd25lci5faWQgPT09IGluZm8ubWVtYmVySWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtZW1iZXIgPSB0aGlzLl9tZW1iZXJzSGFuZGxlci5tZW1iZXJzLmZpbmQobWVtYmVyID0+IG1lbWJlci5faWQgPT09IGluZm8ubWVtYmVySWQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAobWVtYmVyID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGZpbmQgbWVtYmVyIHdpdGggaWQgJHt1c2VySWR9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvd25lciA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG93bmVyID0gbmV3IFNoYXJlT3duZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiBtZW1iZXIuX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVzQ291bnQ6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mby5zaGFyZXNDb3VudCA+IHNoYXJlLmF2YWlsYWJsZUNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KEV2ZW50cy5PdXRFcnJvciwgJ9Cd0LXRgiDQtNC+0YHRgtGD0L/QvdC+0LPQviDQutC+0LvQuNGH0LXRgdGC0LLQsCDQsNC60YbQuNC5LicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mby5zaGFyZXNDb3VudCAqIHNoYXJlLnByaWNlID4gbWVtYmVyLm1vbmV5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KEV2ZW50cy5PdXRFcnJvciwgJ9Cd0LXQtNC+0YHRgtCw0YLQvtGH0L3QviDRgdGA0LXQtNGB0YLQsiDQvdCwINCx0LDQu9Cw0L3RgdC1LicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mby5zaGFyZXNDb3VudCA8IDAgJiYgTWF0aC5hYnMoaW5mby5zaGFyZXNDb3VudCkgPiBvd25lci5zaGFyZXNDb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXQuZW1pdChFdmVudHMuT3V0RXJyb3IsIGDQlNC70Y8g0L/RgNC+0LTQsNC20Lgg0LTQvtGB0YLRg9C/0L3QviDRgtC+0LvRjNC60L4gJHtvd25lci5zaGFyZXNDb3VudH0g0LDQutGG0LjQuS5gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgb3duZXIuc2hhcmVzQ291bnQgKz0gaW5mby5zaGFyZXNDb3VudDtcclxuICAgICAgICAgICAgICAgICAgICBtZW1iZXIubW9uZXkgLT0gaW5mby5zaGFyZXNDb3VudCAqIHNoYXJlLnByaWNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzaGFyZS51cGRhdGVPd25lcihvd25lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVtYmVyc0hhbmRsZXIudXBkYXRlTWVtYmVyKG1lbWJlcik7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICBzb2NrZXQuZW1pdChFdmVudHMuT3V0RXJyb3IsICfQndC10LjQt9Cy0LXRgdGC0L3QsNGPINC+0YjQuNCx0LrQsCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHNvY2tldC5vbihFdmVudHMuSW5SZWZyZXNoTWFya2V0LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KEV2ZW50cy5PdXRNYXJrZXQsIHRoaXMudG9FdmVudCgpKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gTWFya2V0U3RhdGUuQWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICBzb2NrZXQuZW1pdChFdmVudHMuT3V0U2hhcmVzLCB0aGlzLl9zaGFyZXNIYW5kbGVyLnRvRXZlbnQoKSk7XHJcbiAgICAgICAgICAgICAgICBzb2NrZXQuZW1pdChFdmVudHMuT3V0TWVtYmVycywgdGhpcy5fbWVtYmVyc0hhbmRsZXIudG9FdmVudCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5yZWxvYWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyByZWxvYWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgdGhpcy5fZW5kV2FpdGVyLnN0b3AoKTtcclxuICAgICAgICB0aGlzLl9zdGF0ZSA9IE1hcmtldFN0YXRlLldhaXQ7XHJcbiAgICAgICAgdGhpcy5fc29ja2V0LmVtaXQoRXZlbnRzLk91dE1hcmtldCwgdGhpcy50b0V2ZW50KCkpO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLl9tYXJrZXQgPSBuZXcgTWFya2V0KGF3YWl0IG0uTWFya2V0LmZpbmRPbmUoKSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gcmVsb2FkIE1hcmtldFNlcnZpY2VgKTtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fd2FpdGVyLnN0b3AoKTtcclxuICAgICAgICB0aGlzLl9zaGFyZXNIYW5kbGVyPy5kaXNwb3NlKCk7XHJcbiAgICAgICAgdGhpcy5fbWVtYmVyc0hhbmRsZXI/LmRpc3Bvc2UoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fc2hhcmVzSGFuZGxlciA9IG5ldyBTaGFyZXNIYW5kbGVyKCk7XHJcbiAgICAgICAgdGhpcy5fbWVtYmVyc0hhbmRsZXIgPSBuZXcgTWVtYmVyc0hhbmRsZXIoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX21hcmtldC5lbmQgPCBEYXRlLm5vdygpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gTWFya2V0U3RhdGUuRmluaXNoZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX3NvY2tldC5lbWl0KEV2ZW50cy5PdXRNYXJrZXQsIHRoaXMudG9FdmVudCgpKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9zaGFyZXNIYW5kbGVyLm9uKEV2ZW50cy5DaGFuZ2VkLCAoKSA9PiB7XHJcbiAgICAgICAgICAgdGhpcy5fc29ja2V0LmVtaXQoRXZlbnRzLk91dFNoYXJlcywgdGhpcy5fc2hhcmVzSGFuZGxlci50b0V2ZW50KCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX21lbWJlcnNIYW5kbGVyLm9uKEV2ZW50cy5DaGFuZ2VkLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NvY2tldC5lbWl0KEV2ZW50cy5PdXRNZW1iZXJzLCB0aGlzLl9tZW1iZXJzSGFuZGxlci50b0V2ZW50KCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9zdGF0ZSA9IE1hcmtldFN0YXRlLldhaXQ7XHJcbiAgICAgICAgdGhpcy5fc29ja2V0LmVtaXQoRXZlbnRzLk91dE1hcmtldCwgdGhpcy50b0V2ZW50KCkpO1xyXG4gICAgICAgIHRoaXMuX3dhaXRlci5yZXNldCh0aGlzLl9tYXJrZXQuc3RhcnQpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHRvRXZlbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc3RhcnQ6IHRoaXMuX21hcmtldD8uc3RhcnQsXHJcbiAgICAgICAgICAgIGVuZDogdGhpcy5fbWFya2V0Py5lbmQsXHJcbiAgICAgICAgICAgIHJlY29tcHV0ZUR1cmF0aW9uOiB0aGlzLl9tYXJrZXQ/LnJlY29tcHV0ZUR1cmF0aW9uLFxyXG4gICAgICAgICAgICBzdGF0ZTogdGhpcy5fc3RhdGUsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtNYXJrZXRTdGF0ZSwgTWFya2V0U2VydmljZX07IiwiaW1wb3J0IGh0dHAgZnJvbSBcImh0dHBcIjtcbmltcG9ydCBhcHAgZnJvbSAnLi9hcHAnO1xuaW1wb3J0IFNlcnZlciBmcm9tICdzb2NrZXQuaW8nO1xuaW1wb3J0IHtNYXJrZXRTZXJ2aWNlfSBmcm9tIFwiLi9jb3JlL01hcmtldFNlcnZpY2VcIjtcblxubGV0IGFwcFNldHRpbmdzID0ge1xuICAgIHBvcnQ6IDMwMDAsXG4gICAgaG9zdDogJ2xyNi50ZXN0J1xufTtcbmxldCBzb2NrZXQgPSBTZXJ2ZXIoe1xuICAgIHBhdGg6ICcvc29ja2V0J1xufSk7XG5NYXJrZXRTZXJ2aWNlLmluc3RhbmNlLmluaXQoc29ja2V0KTtcblxubGV0IHNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKGFwcCk7XG5zb2NrZXQuYXR0YWNoKHNlcnZlciwge1xuICAgIGNvcnM6IHtcbiAgICAgICAgb3JpZ2luOiBcImh0dHA6Ly9sb2NhbGhvc3RcIixcbiAgICAgICAgbWV0aG9kczogW1wiR0VUXCIsIFwiUE9TVFwiXVxuICAgIH1cbn0pO1xuc2VydmVyLmxpc3RlbihhcHBTZXR0aW5ncy5wb3J0KTtcblxuc2VydmVyLm9uKCdsaXN0ZW5pbmcnLCAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coYExpc3RlbmluZyBvbiAke2FwcFNldHRpbmdzLnBvcnR9YCk7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///105\n')})();